[![Build status](https://travis-ci.org/City-of-Helsinki/paatos.svg)](https://travis-ci.org/City-of-Helsinki/paatos)
[![codecov](https://codecov.io/gh/City-of-Helsinki/paatos/branch/master/graph/badge.svg)](https://codecov.io/gh/City-of-Helsinki/paatos)
[![Requirements](https://requires.io/github/City-of-Helsinki/paatos/requirements.svg?branch=master)](https://requires.io/github/City-of-Helsinki/paatos/requirements/?branch=master)

# Open decision API, 6Aika
Open decision API is providing decisions made by a city in a harmonized and machine-readable format.
This app is developed using Django and Django Rest Framework.

# Päätösrajapinta, 6Aika
Päätösrajapinta on avoin ohjelmointirajapinta (API), josta kaupungin päätökset saadaan esiin yhdenmukaisessa ja koneluettavassa muodossa.

Definition is here: https://github.com/6aika/api-paatos

## Initialize database
```
DB=paatos
createdb ${DB}
psql ${DB} -c "CREATE EXTENSION postgis"
python manage.py migrate
```
  
## Importing data

Helsinki organizations
```
python manage.py import_helsinki_orgs <organizations json file>
```

Decision data from Open Ahjo
```
python manage.py import_open_ahjo <decision data json file>
```

Decision data from Vantaa Tweb, Oulu Tweb or Espoo Dynasty (generated by Paatos-Scraper)
```
python manage.py import_oulu_tweb <path to zipfile generated by scraper>
python manage.py import_vantaa_tweb <path to zipfile generated by scraper>
python manage.py import_espoo_dynasty <path to zipfile generated by scraper>
python manage.py import_mikkeli_casem <path to zipfile generated by scraper>
python manage.py import_tampere_casem <path to zipfile generated by scraper>
```
